{"version":3,"file":"static/js/303.eb79eff5.chunk.js","mappings":"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","sources":["webpack://alanominator/./src/pages/settingsPages/editingPages.module.scss?728f","hooks/useFetching.ts","webpack://alanominator/./src/components/UI/FormTextarea/FormTextarea.module.scss?aea9","components/UI/FormTextarea/FormTextarea.jsx","pages/settingsPages/EditBioPage/EditBioPage.jsx","webpack://alanominator/./src/pages/settingsPages/components/GoBack/GoBack.module.scss?3334","pages/settingsPages/components/GoBack/GoBack.jsx","webpack://alanominator/./src/pages/settingsPages/components/MainLayout/MainLayout.module.scss?5277","pages/settingsPages/components/MainLayout/MainLayout.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form_wrapper\":\"editingPages_form_wrapper__jUVi3\",\"top_wrapper\":\"editingPages_top_wrapper__27tcK\",\"btn\":\"editingPages_btn__hISJi\",\"errorMessageWrapper\":\"editingPages_errorMessageWrapper__AamDs\",\"errorMessage\":\"editingPages_errorMessage__s7QUV\"};","import { useState } from \"react\";\n\nexport const useFetching = (callback: Function) => {\n    const [Loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args: any) => {\n        try {\n            setLoading(true)\n            await callback(...args)\n        } catch (e: any) { // TODO type error\n            setError(e.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return [fetching, Loading, error] as const\n}","// extracted by mini-css-extract-plugin\nexport default {\"textarea\":\"FormTextarea_textarea__leRyX\"};","import React from 'react';\nimport { Field, ErrorMessage } from 'formik';\nimport cl from './FormTextarea.module.scss';\n\nfunction FormTextarea(props) {\n    const { label, name, ...rest } = props\n\n    return (\n        <div>\n            <label htmlFor={name}>\n                {label}\n            </label>\n            <Field\n                className={cl.textarea}\n                as=\"textarea\"\n                id={name}\n                name={name}\n                {...rest}\n            />\n            <ErrorMessage name={name} />\n        </div>\n    )\n}\n\nexport default FormTextarea","import React, { useState } from 'react'\nimport GoBack from '../components/GoBack/GoBack';\nimport cl from '../editingPages.module.scss';\nimport * as Yup from 'yup';\nimport { Formik, Form } from 'formik'\nimport { useFetching } from '../../../hooks/useFetching';\nimport axios from 'axios';\nimport { basic_url, getHeaders } from '../../../API/APISettings';\nimport { useNavigate } from 'react-router-dom';\nimport { store } from '../../../reducers/index';\nimport { CHANGE_USER_INFO } from '../../../reducers/auth';\nimport { useSelector } from 'react-redux';\n\nimport Loader from '../../../components/UI/Loader/Loader';\nimport MainLayout from '../components/MainLayout/MainLayout';\nimport FormTextarea from '../../../components/UI/FormTextarea/FormTextarea';\n\n\n\nfunction EditBioPage() {\n    const navigate = useNavigate()\n\n    const initial_bio = useSelector(state => state.auth.user.about)\n\n    const initialValues = {\n        bio: initial_bio,\n    }\n\n    const validationSchema = Yup.object().shape({\n        bio: Yup.string()\n            .max(500),\n    })\n\n    const [errorsArr, setErrorsArr] = useState([])\n\n    const [editBio, LoadingEditBio] = useFetching(async (values) => {\n        const body = values\n\n        let data_is_the_same = body.bio === initial_bio\n\n        if (data_is_the_same) {\n            navigate(-1)\n            return\n        }\n\n        await axios.post(`${basic_url}/users/edit_bio/`, body, {\n            headers: getHeaders(),\n        })\n            .then(res => {\n                setErrorsArr([])\n\n                store.dispatch({\n                    type: CHANGE_USER_INFO,\n                    payload: res.data.user,\n                })\n\n                navigate(-1)\n            })\n            .catch(err => {\n                console.log(err.response?.status)\n\n                switch (err.response?.status) {\n                    case 400:\n                        setErrorsArr(err.response.data.messages)\n                        break;\n                    case 401:\n                        setErrorsArr([\"Unauthorized\"])\n                        break;\n                    case 500:\n                        setErrorsArr([\"Internal Server Error\"])\n                        break;\n                    default:\n                        setErrorsArr([\"Smth went wrong. Try again\"])\n                }\n            });\n    })\n\n\n    function onSubmit(values) {\n        editBio(values)\n    }\n\n    return (\n\n        <MainLayout>\n            {LoadingEditBio &&\n                <div className='loader_wrapper'>\n                    <Loader />\n                </div>\n            }\n            <Formik\n                initialValues={initialValues}\n                validationSchema={validationSchema}\n                onSubmit={onSubmit}\n            >\n                {({ errors, touched }) => (\n                    <Form className={cl.form_wrapper}>\n\n                        <div className={cl.top_wrapper}>\n                            <GoBack />\n\n                            <span>\n                                Edit username\n                            </span>\n\n                            <button className={cl.btn} type='submit'>\n                                Hello\n                            </button>\n                        </div>\n\n                        <FormTextarea\n                            name=\"bio\"\n                            label=\"Bio\"\n                            autoFocus={true}\n                        />\n\n                        {errorsArr &&\n                            <div className={cl.errorMessageWrapper}>\n                                {errorsArr.map((error, index) =>\n                                    <span key={index} className={cl.errorMessage}>\n                                        {error}\n                                    </span>\n                                )}\n                            </div>\n                        }\n\n                    </Form>\n                )}\n            </Formik>\n        </MainLayout>\n    )\n}\n\nexport default EditBioPage;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"GoBack_wrapper__hQ1MT\",\"arrow_icon\":\"GoBack_arrow_icon__n2l5R\"};","import React from 'react'\nimport cl from './GoBack.module.scss';\nimport { useNavigate } from 'react-router-dom';\n\nfunction GoBack() {\n\n    const navigate = useNavigate();\n\n    function goBack() {\n        navigate(-1)\n    }\n\n    return (\n        <span onClick={goBack} className={cl.wrapper}>\n            <span className={cl.arrow_icon}>\n                &lt;-\n            </span>\n        </span>\n    )\n}\n\nexport default GoBack","// extracted by mini-css-extract-plugin\nexport default {\"main_wrapper\":\"MainLayout_main_wrapper__Y7jWB\",\"main_content_wrapper\":\"MainLayout_main_content_wrapper__LrLzF\"};","import React from 'react'\nimport cl from './MainLayout.module.scss';\n\n\nfunction MainLayout({ children }) {\n    return (\n\n        <div className={cl.main_wrapper}>\n            <div className={cl.main_content_wrapper}>\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default MainLayout"],"names":["useFetching","callback","useState","Loading","setLoading","error","setError","fetching","message","props","label","name","rest","htmlFor","className","cl","as","id","navigate","useNavigate","initial_bio","useSelector","state","auth","user","about","initialValues","bio","validationSchema","Yup","shape","max","errorsArr","setErrorsArr","values","body","axios","basic_url","headers","getHeaders","then","res","store","type","CHANGE_USER_INFO","payload","data","catch","err","console","log","response","status","messages","editBio","LoadingEditBio","MainLayout","Loader","onSubmit","errors","touched","GoBack","autoFocus","map","index","onClick","children"],"sourceRoot":""}