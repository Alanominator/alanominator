{"version":3,"file":"static/js/315.39e020f5.chunk.js","mappings":"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","sources":["webpack://alanominator/./src/pages/settingsPages/editingPages.module.scss?728f","webpack://alanominator/./src/components/UI/FormInput/FormInput.module.scss?3c58","components/UI/FormInput/FormInput.jsx","hooks/useFetching.ts","pages/settingsPages/EditPasswordPage/EditPasswordPage.jsx","webpack://alanominator/./src/pages/settingsPages/components/GoBack/GoBack.module.scss?3334","pages/settingsPages/components/GoBack/GoBack.jsx","webpack://alanominator/./src/pages/settingsPages/components/MainLayout/MainLayout.module.scss?5277","pages/settingsPages/components/MainLayout/MainLayout.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form_wrapper\":\"editingPages_form_wrapper__jUVi3\",\"top_wrapper\":\"editingPages_top_wrapper__27tcK\",\"btn\":\"editingPages_btn__hISJi\",\"errorMessageWrapper\":\"editingPages_errorMessageWrapper__AamDs\",\"errorMessage\":\"editingPages_errorMessage__s7QUV\"};","// extracted by mini-css-extract-plugin\nexport default {\"input_main_wrapper\":\"FormInput_input_main_wrapper__ujvJw\",\"input_field\":\"FormInput_input_field__QYl9j\",\"label\":\"FormInput_label__04RR4\",\"input\":\"FormInput_input__uBaqY\",\"label_active\":\"FormInput_label_active__6tHVz\",\"red_message\":\"FormInput_red_message__1EyIk\"};","import React from 'react';\nimport { Field, ErrorMessage } from 'formik';\nimport cl from './FormInput.module.scss';\n\n\nfunction FormInput(props) {\n    const { label, name, placeholder, hasError, value, touched, ...rest } = props\n\n    return (\n        <div\n            className={`${cl.input_main_wrapper} input_main_wrapper`}\n        >\n\n            <div\n                className={cl.input_field}\n            >\n                <label\n                    htmlFor={name}\n                    className={`${`${cl.label} label`} ${value && `${cl.label_active} label_active`}`}\n                >\n                    {placeholder}\n                </label>\n                <Field\n                    className={`${`${cl.input} input`} ${hasError ? `${cl.has_errors} has_errors` : touched && `${cl.correct} correct`}`}\n                    as=\"input\"\n                    id={name}\n                    name={name}\n                    {...rest}\n                />\n            </div>\n\n            <span className={`${cl.red_message} red_message`}>\n                <ErrorMessage name={name} />\n            </span>\n\n        </div>\n    )\n}\n\nexport default FormInput;","import { useState } from \"react\";\n\nexport const useFetching = (callback: Function) => {\n    const [Loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args: any) => {\n        try {\n            setLoading(true)\n            await callback(...args)\n        } catch (e: any) { // TODO type error\n            setError(e.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return [fetching, Loading, error] as const\n}","import React, { useState } from 'react'\nimport GoBack from '../components/GoBack/GoBack';\nimport cl from '../editingPages.module.scss';\nimport * as Yup from 'yup';\nimport { Formik, Form } from 'formik'\nimport { useFetching } from '../../../hooks/useFetching';\nimport axios from 'axios';\nimport { basic_url, getHeaders } from '../../../API/APISettings';\nimport FormInput from '../../../components/UI/FormInput/FormInput';\nimport { useNavigate } from 'react-router-dom';\n\nimport Loader from '../../../components/UI/Loader/Loader';\nimport MainLayout from '../components/MainLayout/MainLayout';\n\n\n\n\n\nfunction EditPasswordPage() {\n\n    const navigate = useNavigate()\n\n    const initialValues = {\n        old_password: '',\n        new_password: '',\n        re_new_password: ''\n    }\n\n    const validationSchema = Yup.object().shape({\n        old_password: Yup.string()\n            .required(\"Required\")\n            .max(150),\n        new_password: Yup.string()\n            .required(\"Required\")\n            .min(8)\n            .max(24)\n            // TODO\n            .oneOf([Yup.ref('re_new_password'), null], 'Passwords must match'),\n        re_new_password: Yup.string()\n            .required(\"Required\")\n            .min(8)\n            .max(24)\n            // TODO\n            .oneOf([Yup.ref('new_password'), null], 'Passwords must match')\n    })\n\n    const [error, setError] = useState('')\n\n    const [editPassword, LoadingEditPassword] = useFetching(async (values) => {\n        const body = values\n\n        await axios.post(`${basic_url}/users/change_password/`, body, {\n            headers: getHeaders(),\n        })\n            .then(res => {\n                setError('')\n\n                alert(res.data.message)\n\n                navigate(-1)\n            })\n            .catch(err => {\n                switch (err.response?.status) {\n                    case 400:\n                        setError(err.response.data.message)\n                        break;\n                    case 401:\n                        setError(\"Unauthorized\")\n                        break;\n                    case 500:\n                        setError(\"Internal Server Error\")\n                        break;\n                    default:\n                        setError(\"Smth went wrong. Try again\")\n                }\n            });\n    })\n\n\n    function onSubmit(values) {\n        editPassword(values)\n    }\n\n    return (\n\n        <MainLayout>\n            {LoadingEditPassword &&\n                <div className='loader_wrapper'>\n                    <Loader />\n                </div>\n            }\n            <Formik\n                initialValues={initialValues}\n                validationSchema={validationSchema}\n                onSubmit={onSubmit}\n            >\n                {({ errors, touched }) => (\n\n                    <Form\n                        className={cl.form_wrapper}\n                    >\n\n                        <div className={cl.top_wrapper}>\n                            <GoBack />\n\n                            <span onClick={() => console.log(\"errors\", errors, \"\\n\", \"Touched\", touched)}>\n                                Edit name\n                            </span>\n\n                            <button\n                                className={cl.btn}\n                                type='submit'\n                            >\n                                Hello\n                            </button>\n                        </div>\n\n                        <FormInput\n                            name=\"old_password\"\n                            placeholder=\"old_password\"\n                            type=\"password\"\n                            spellCheck=\"false\"\n                            tabindex=\"1\"\n                            autoFocus={true}\n\n                        // autoComplete=\"off\"\n                        // autoCorrect=\"off\"\n                        // autoCapitalize=\"none\"\n                        // aria-haspopup=\"false\"\n                        />\n                        <FormInput\n                            name=\"new_password\"\n                            placeholder=\"new_password\"\n                            type=\"password\"\n                            spellCheck=\"false\"\n                            tabindex=\"2\"\n                        />\n\n                        <FormInput\n                            name=\"re_new_password\"\n                            placeholder=\"re_new_password\"\n                            type=\"password\"\n                            spellCheck=\"false\"\n                            tabindex=\"2\"\n                        />\n\n                        {error &&\n                            <div className={cl.errorMessageWrapper}>\n                                <span className={cl.errorMessage}>\n                                    {error}\n                                </span>\n                            </div>\n                        }\n\n                    </Form>\n                )}\n            </Formik>\n        </MainLayout>\n    )\n}\n\nexport default EditPasswordPage;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"GoBack_wrapper__hQ1MT\",\"arrow_icon\":\"GoBack_arrow_icon__n2l5R\"};","import React from 'react'\nimport cl from './GoBack.module.scss';\nimport { useNavigate } from 'react-router-dom';\n\nfunction GoBack() {\n\n    const navigate = useNavigate();\n\n    function goBack() {\n        navigate(-1)\n    }\n\n    return (\n        <span onClick={goBack} className={cl.wrapper}>\n            <span className={cl.arrow_icon}>\n                &lt;-\n            </span>\n        </span>\n    )\n}\n\nexport default GoBack","// extracted by mini-css-extract-plugin\nexport default {\"main_wrapper\":\"MainLayout_main_wrapper__Y7jWB\",\"main_content_wrapper\":\"MainLayout_main_content_wrapper__LrLzF\"};","import React from 'react'\nimport cl from './MainLayout.module.scss';\n\n\nfunction MainLayout({ children }) {\n    return (\n\n        <div className={cl.main_wrapper}>\n            <div className={cl.main_content_wrapper}>\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default MainLayout"],"names":["props","label","name","placeholder","hasError","value","touched","rest","className","cl","htmlFor","as","id","useFetching","callback","useState","Loading","setLoading","error","setError","fetching","message","navigate","useNavigate","validationSchema","Yup","shape","old_password","required","max","new_password","min","oneOf","re_new_password","values","body","axios","basic_url","headers","getHeaders","then","res","alert","data","catch","err","response","status","editPassword","LoadingEditPassword","initialValues","onSubmit","errors","onClick","console","log","type","spellCheck","tabindex","autoFocus","children"],"sourceRoot":""}