"use strict";(self.webpackChunkalanominator=self.webpackChunkalanominator||[]).push([[262],{487:function(e,t){t.Z={errorMessageWrapper:"authPages_errorMessageWrapper__1nb9r",errorMessage:"authPages_errorMessage__cn6Eo",form_wrapper:"authPages_form_wrapper__I9-Yl",form:"authPages_form__mwH6E",page_name:"authPages_page_name__-ata5",lw:"authPages_lw__b9ZJ1",ttl:"authPages_ttl__KbgBc",link:"authPages_link__ll6x-",help_link:"authPages_help_link__VMlan",help_wrapper:"authPages_help_wrapper__4ETRw",reCaptcha_wrapper:"authPages_reCaptcha_wrapper__bduQh",captcha_loading:"authPages_captcha_loading__YQc+l",captcha_loading_message:"authPages_captcha_loading_message__mjU5w",cancelBtnWrapper:"authPages_cancelBtnWrapper__ey8-O",cancelBtn:"authPages_cancelBtn__undoL"}},5827:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(1413),r=(a(390),"FormButton_button_wrapper__K6Ek-"),o="FormButton_button__saLZQ",i=a(2559);var s=function(e){var t=e.children,a=e.disabled;return(0,i.jsx)("div",{className:r,children:(0,i.jsx)("button",(0,n.Z)((0,n.Z)({className:"".concat(o," button"),type:"submit",disabled:a},e),{},{children:t}))})}},2329:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(1413),r=a(4925),o=(a(390),a(2163)),i={input_main_wrapper:"FormInput_input_main_wrapper__ujvJw",input_field:"FormInput_input_field__QYl9j",label:"FormInput_label__04RR4",input:"FormInput_input__uBaqY",label_active:"FormInput_label_active__6tHVz",red_message:"FormInput_red_message__1EyIk"},s=a(2559),c=["label","name","placeholder","hasError","value","touched"];var l=function(e){e.label;var t=e.name,a=e.placeholder,l=e.hasError,u=e.value,p=e.touched,d=(0,r.Z)(e,c);return(0,s.jsxs)("div",{className:"".concat(i.input_main_wrapper," input_main_wrapper"),children:[(0,s.jsxs)("div",{className:i.input_field,children:[(0,s.jsx)("label",{htmlFor:t,className:"".concat("".concat(i.label," label")," ",u&&"".concat(i.label_active," label_active")),children:a}),(0,s.jsx)(o.gN,(0,n.Z)({className:"".concat("".concat(i.input," input")," ",l?"".concat(i.has_errors," has_errors"):p&&"".concat(i.correct," correct")),as:"input",id:t,name:t},d))]}),(0,s.jsx)("span",{className:"".concat(i.red_message," red_message"),children:(0,s.jsx)(o.Bc,{name:t})})]})}},2208:function(e,t,a){a.d(t,{U:function(){return c}});var n=a(5861),r=a(885),o=a(7757),i=a.n(o),s=a(390),c=function(e){var t=(0,s.useState)(!1),a=(0,r.Z)(t,2),o=a[0],c=a[1],l=(0,s.useState)(""),u=(0,r.Z)(l,2),p=u[0],d=u[1],h=function(){var t=(0,n.Z)(i().mark((function t(){var a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e.apply(void 0,a);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),d(t.t0.message);case 9:return t.prev=9,c(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[h,o,p]}},5262:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var n=a(1413),r=a(5861),o=a(885),i=a(7757),s=a.n(i),c=a(390),l=a(5453),u=a(2163),p=a(2208),d=a(5133),h=a.n(d),m=a(2619),f=a(5827),_=a(2329),g=a(1314),v=a(361),b=a(1178),w=a(487),y=a(847),x=a(2714),j=a(188),I=a.n(j);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O.apply(this,arguments)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=function(e){var t,a;function n(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(E(t)),t.handleErrored=t.handleErrored.bind(E(t)),t.handleChange=t.handleChange.bind(E(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(E(t)),t}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var r=n.prototype;return r.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},r.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var e=this;return new Promise((function(t,a){e.executionResolve=t,e.executionReject=a,e.execute()}))},r.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},r.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},r.handleRecaptchaRef=function(e){this.captcha=e},r.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return c.createElement("div",O({},t,{ref:this.handleRecaptchaRef}))},n}(c.Component);R.displayName="ReCAPTCHA",R.propTypes={sitekey:I().string.isRequired,onChange:I().func,grecaptcha:I().object,theme:I().oneOf(["dark","light"]),type:I().oneOf(["image","audio"]),tabindex:I().number,onExpired:I().func,onErrored:I().func,size:I().oneOf(["compact","normal","invisible"]),stoken:I().string,hl:I().string,badge:I().oneOf(["bottomright","bottomleft","inline"])},R.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Z=a(7178),k=a.n(Z);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C.apply(this,arguments)}var S={},L=0;var N="onloadcallback";var P,q,T=(P=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+N+"&render=explicit"},q=(q={callbackName:N,globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",a=function(t){var a,n;function r(e,a){var n;return(n=t.call(this,e,a)||this).state={},n.__scriptURL="",n}n=t,(a=r).prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n;var o=r.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+L++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"===typeof P?P():P,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=S[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[q.callbackName]},o.componentDidMount=function(){var e=this,t=this.setupScriptURL(),a=this.asyncScriptLoaderGetScriptLoaderID(),n=q,r=n.globalName,o=n.callbackName,i=n.scriptId;if(r&&"undefined"!==typeof window[r]&&(S[t]={loaded:!0,observers:{}}),S[t]){var s=S[t];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[a]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[a]=function(t){return e.asyncScriptLoaderHandleLoad(t)},S[t]={loaded:!1,observers:c};var l=document.createElement("script");for(var u in l.src=t,l.async=!0,q.attributes)l.setAttribute(u,q.attributes[u]);i&&(l.id=i);var p=function(e){if(S[t]){var a=S[t].observers;for(var n in a)e(a[n])&&delete a[n]}};o&&"undefined"!==typeof window&&(window[o]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),l.onload=function(){var e=S[t];e&&(e.loaded=!0,p((function(t){return!o&&(t(e),!0)})))},l.onerror=function(){var e=S[t];e&&(e.errored=!0,p((function(t){return t(e),!0})))},document.body.appendChild(l)},o.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===q.removeOnUnmount)for(var t=document.getElementsByTagName("script"),a=0;a<t.length;a+=1)t[a].src.indexOf(e)>-1&&t[a].parentNode&&t[a].parentNode.removeChild(t[a]);var n=S[e];n&&(delete n.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===q.removeOnUnmount&&delete S[e])},o.render=function(){var t=q.globalName,a=this.props,n=(a.asyncScriptOnLoad,a.forwardedRef),r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(a,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!==typeof window&&(r[t]="undefined"!==typeof window[t]?window[t]:void 0),r.ref=n,(0,c.createElement)(e,r)},r}(c.Component),n=(0,c.forwardRef)((function(e,t){return(0,c.createElement)(a,C({},e,{forwardedRef:t}))}));return n.displayName="AsyncScriptLoader("+t+")",n.propTypes={asyncScriptOnLoad:I().func},k()(n,e)})(R),U=T,A=function(){return A=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},A.apply(this,arguments)};var B="",D=null,F=null,M=null;function H(){B="",null!==D&&D.disconnect(),null!==F&&(window.clearTimeout(F),F=null)}function W(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function z(){var e=null;if("#"===B)e=document.body;else{var t=B.replace("#","");null===(e=document.getElementById(t))&&"#top"===B&&(e=document.body)}if(null!==e){M(e);var a=e.getAttribute("tabindex");return null!==a||W(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==a||W(e)||(e.blur(),e.removeAttribute("tabindex")),H(),!0}return!1}function J(e){return c.forwardRef((function(t,a){var n="";"string"===typeof t.to&&t.to.includes("#")?n="#"+t.to.split("#").slice(1).join("#"):"object"===typeof t.to&&"string"===typeof t.to.hash&&(n=t.to.hash);var r={};e===g.OL&&(r.isActive=function(e,t){return e&&e.isExact&&t.hash===n});var o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(t,["scroll","smooth","timeout","elementId"]);return c.createElement(e,A({},r,o,{onClick:function(e){var a;H(),B=t.elementId?"#"+t.elementId:n,t.onClick&&t.onClick(e),""===B||e.defaultPrevented||0!==e.button||t.target&&"_self"!==t.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(M=t.scroll||function(e){return t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},a=t.timeout,window.setTimeout((function(){!1===z()&&(null===D&&(D=new MutationObserver(z)),D.observe(document,{attributes:!0,childList:!0,subtree:!0}),F=window.setTimeout((function(){H()}),a||1e4))}),0))},ref:a}),t.children)}))}var V=J(g.rU),K=(J(g.OL),a(2559));var Q=function(){var e=(0,x.$)().t,t=(0,v.s0)();function a(){Boolean(localStorage.getItem("email")&&localStorage.getItem("password"))&&t("/users/activate-account")}(0,c.useEffect)((function(){a()}));var i=(0,c.useState)(!1),d=(0,o.Z)(i,2),j=d[0],I=d[1],O=(0,c.useState)(null),E=(0,o.Z)(O,2),R=E[0],Z=E[1],k=(0,c.useState)(""),C=(0,o.Z)(k,2),S=C[0],L=C[1],N=function(e){I(!0);var t=JSON.stringify({captcha_value:e});h().post("".concat(m.rh,"/users/recaptcha/"),t,{headers:{"Content-Type":"application/json"}}).then((function(t){Z(t.data.captcha),L(e)})).catch((function(e){return console.log(e)})).finally((function(){return I(!1)}))},P=e("main_content.pages.auth_pages.required","Required"),q=e("main_content.pages.auth_pages.pmcalxc","Password must contain at least 8 characters"),T=e("main_content.pages.auth_pages.pmm","Passwords must match"),A=l.Ry({email:l.Z_().email(e("main_content.pages.auth_pages.ief","Invalid email format")).required(P),username:l.Z_().min(2).required(P),first_name:l.Z_().min(2).required(P),last_name:l.Z_(),password:l.Z_().required(P).min(8,q).oneOf([l.iH("rePassword"),null],T),rePassword:l.Z_().oneOf([l.iH("password"),null],T).min(8,q).required(P)}),B=(0,c.useState)([]),D=(0,o.Z)(B,2),F=D[0],M=D[1],H=(0,p.U)(function(){var e=(0,r.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify((0,n.Z)((0,n.Z)({},t),{},{captcha_value:S})),e.next=3,h().post("".concat(m.rh,"/users/auth/register/"),r,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("email",e.data.user.email),localStorage.setItem("password",e.data.user.password),a()})).catch((function(e){e.response?M(e.response.data.messages):M(["Smth went wrong. Try again."]),window.scrollTo(0,0),window.grecaptcha.reset(),Z(!1),L(null),console.log(S)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=(0,o.Z)(H,2),z=W[0],J=W[1];return(0,K.jsxs)(K.Fragment,{children:[J&&(0,K.jsx)("div",{className:"loader_wrapper",children:(0,K.jsx)(y.Z,{})}),F&&(0,K.jsxs)("div",{className:w.Z.errorMessageWrapper,children:[F.map((function(e,t){return(0,K.jsx)("span",{className:"".concat(w.Z.errorMessage," errorMessage"),children:e},t)})),(0,K.jsx)("br",{}),(0,K.jsx)("span",{children:(0,K.jsx)(V,{className:"".concat(w.Z.help_link," help_link"),to:"#hello",scroll:function(e){return e.scrollIntoView({behavior:"auto",block:"center"})},children:e("main_content.pages.auth_pages.dynh","Do you need help?")})})]}),(0,K.jsx)("div",{className:w.Z.form_wrapper,children:(0,K.jsx)(u.J9,{initialValues:{email:"metal@m.com",username:"James",first_name:"James",last_name:"Hetfield",password:"metallica",rePassword:"metallica"},validationSchema:A,onSubmit:function(e){z(e)},children:function(t){var a=t.errors,n=t.touched,r=t.values;return(0,K.jsxs)(u.l0,{className:w.Z.form,autoComplete:"off",spellCheck:"false",children:[(0,K.jsx)("b",{className:"".concat(w.Z.page_name," auth_page_name"),children:e("main_content.pages.auth_pages.register","register")}),(0,K.jsx)(_.Z,{name:"email",placeholder:e("main_content.pages.auth_pages.email","email"),type:"email",autoFocus:!0,tabIndex:"1",value:r.email,touched:n.email,hasError:a.email}),(0,K.jsx)(_.Z,{name:"username",placeholder:e("main_content.pages.auth_pages.username","username"),tabIndex:"2",value:r.username,touched:n.username,hasError:a.username}),(0,K.jsx)(_.Z,{name:"first_name",placeholder:e("main_content.pages.auth_pages.first_name","first name"),tabIndex:"3",value:r.first_name,touched:n.first_name,hasError:a.first_name,spellCheck:"false"}),(0,K.jsx)(_.Z,{name:"last_name",placeholder:"".concat(e("main_content.pages.auth_pages.last_name","last name"),"*"),tabIndex:"4",value:r.last_name,touched:n.last_name,hasError:a.last_name,spellCheck:"false"}),(0,K.jsx)(_.Z,{type:"password",name:"password",placeholder:e("main_content.pages.auth_pages.password","password"),tabIndex:"5",value:r.password,touched:n.password,hasError:a.password}),(0,K.jsx)(_.Z,{type:"password",name:"rePassword",placeholder:e("main_content.pages.auth_pages.re_password","re-password"),tabIndex:"6",value:r.rePassword,touched:n.rePassword,hasError:a.rePassword}),(0,K.jsx)("div",{className:w.Z.reCaptcha_wrapper,children:(0,K.jsx)(U,{sitekey:m.ts,onChange:N})}),j&&(0,K.jsx)("span",{className:w.Z.captcha_loading,children:(0,K.jsx)("span",{className:w.Z.captcha_loading_message,children:"loading"})}),R&&!j?(0,K.jsx)(f.Z,{disabled:J||!((0,b.x)(a)&&!(0,b.x)(n)),type:"submit",tabIndex:"7",children:e("main_content.pages.auth_pages.sign_up","sign up")}):(0,K.jsx)(K.Fragment,{}),(0,K.jsxs)("div",{className:w.Z.lw,children:[(0,K.jsx)("span",{className:w.Z.ttl,children:e("main_content.pages.auth_pages.aha","Already have an account?")}),(0,K.jsx)("br",{}),(0,K.jsx)(g.rU,{className:"".concat(w.Z.link," link_to_another_auth_page"),to:"/users/login",children:e("main_content.pages.auth_pages.login","login")})]})]})}})}),F&&(0,K.jsxs)("div",{className:w.Z.help_wrapper,id:"hello",children:["If you faced problems with registration, there're some instructions for you.",(0,K.jsx)("br",{}),"Cases: Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam veritatis sunt provident, autem voluptate corporis eaque commodi voluptatibus architecto doloribus odio tenetur aliquam consequuntur, alias ab quam quod amet. Ea, laudantium blanditiis quam corrupti magni suscipit recusandae. Doloremque eos dolorem iure repellat enim repellendus numquam, quis, veritatis totam, nam autem animi obcaecati eveniet fugiat ea. Dicta doloremque voluptates iste quos delectus dolorem, magni harum praesentium laudantium illum suscipit magnam corporis sapiente animi debitis recusandae est consequatur fuga. Minima assumenda accusantium delectus eius doloremque nihil animi labore fugit. Quo molestiae beatae iure recusandae sit, necessitatibus officiis voluptatibus eius officia voluptate mollitia!",(0,K.jsx)("ul",{children:(0,K.jsx)("li",{})})]})]})}},1178:function(e,t,a){function n(e){return 0===Object.keys(e).length&&e.constructor===Object}a.d(t,{x:function(){return n}})}}]);
//# sourceMappingURL=262.4dbca9e8.chunk.js.map