{"version":3,"file":"static/js/443.9be01094.chunk.js","mappings":"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","sources":["hooks/useFetching.ts","webpack://alanominator/./src/pages/settingsPages/SessionsPage/SessionsPage.module.scss?33b1","pages/settingsPages/SessionsPage/SessionsPage.jsx","webpack://alanominator/./src/pages/settingsPages/components/GoBack/GoBack.module.scss?3334","pages/settingsPages/components/GoBack/GoBack.jsx","webpack://alanominator/./src/pages/settingsPages/components/MainLayout/MainLayout.module.scss?5277","pages/settingsPages/components/MainLayout/MainLayout.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport const useFetching = (callback: Function) => {\n    const [Loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args: any) => {\n        try {\n            setLoading(true)\n            await callback(...args)\n        } catch (e: any) { // TODO type error\n            setError(e.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return [fetching, Loading, error] as const\n}","// extracted by mini-css-extract-plugin\nexport default {\"top_wrapper\":\"SessionsPage_top_wrapper__vFioB\"};","import React from 'react'\nimport Loader from '../../../components/UI/Loader/Loader'\nimport MainLayout from '../components/MainLayout/MainLayout'\n\nimport cl from './SessionsPage.module.scss';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport { useFetching } from '../../../hooks/useFetching';\n\nimport { basic_url, getHeaders } from '../../../API/APISettings';\n\nimport { store } from '../../../reducers/index';\nimport { LOGOUT_SUCCESS, DELETE_ACCOUNT } from '../../../reducers/auth';\nimport GoBack from '../components/GoBack/GoBack';\n\nimport { useAlert } from 'react-alert';\n\n\n\nfunction SessionsPage() {\n\n\n    const alert = useAlert()\n\n    const navigate = useNavigate()\n\n    const [logoutAllOtherSessions, LoadingLogoutAllOtherSessions] = useFetching(async () => {\n\n        await axios.post(`${basic_url}/users/logout_all_other_sessions/`, {}, {\n            headers: getHeaders(),\n        })\n            .then((res) => {\n                alert.success(\"success\")\n            })\n            .catch(() => {\n                alert.error(\"Failed\")\n            });\n    })\n\n\n\n    const [logoutAllSessions, LoadingLogoutAllSessions] = useFetching(async () => {\n\n        await axios.post(`${basic_url}/users/logout_all/`, {}, {\n            headers: getHeaders(),\n        })\n            .then((res) => {\n                new Promise(function (resolve, reject) {\n                    store.dispatch({\n                        type: LOGOUT_SUCCESS\n                    })\n\n                    return resolve()\n\n                }).then(() => {\n                    alert.success(\"success\")\n\n                    navigate(\"/\")\n                })\n\n            })\n            .catch(() => {\n                alert.error(\"Error\")\n            });\n    })\n\n\n    const [deleteAccount, LoadingDeleteAccount] = useFetching(async () => {\n\n\n        // let body = JSON.stringify()\n\n        await axios.post(`${basic_url}/users/delete_account/`, { \"username\": \"James\" },\n            {\n                headers: getHeaders(),\n            })\n            .then((res) => {\n\n                alert.success(res.data.message)\n\n                new Promise(function (resolve, reject) {\n                    store.dispatch({\n                        type: DELETE_ACCOUNT\n                    })\n\n                    return resolve()\n\n                }).then(() => {\n                    alert.success(\"account was deleted\")\n\n                    navigate(\"/\")\n                })\n\n            })\n            .catch((err) => {\n                alert.error(err.response.data.message)\n            });\n    })\n\n\n    return (\n        <MainLayout>\n            {LoadingLogoutAllOtherSessions | LoadingLogoutAllSessions ?\n                <div className='loader_wrapper'>\n                    <Loader />\n                </div> : <></>\n            }\n\n            <div className={cl.top_wrapper}>\n                <GoBack />\n                <span>\n                    Sessions\n                </span>\n            </div>\n            <hr />\n            <span onClick={logoutAllOtherSessions}>\n                Logout other sessions\n            </span>\n            <hr />\n            <span onClick={logoutAllSessions}>\n                Logout all sessions\n            </span>\n            <hr />\n            <span onClick={deleteAccount}>\n                Delete account\n            </span>\n        </MainLayout>\n    )\n}\n\nexport default SessionsPage","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"GoBack_wrapper__hQ1MT\",\"arrow_icon\":\"GoBack_arrow_icon__n2l5R\"};","import React from 'react'\nimport cl from './GoBack.module.scss';\nimport { useNavigate } from 'react-router-dom';\n\nfunction GoBack() {\n\n    const navigate = useNavigate();\n\n    function goBack() {\n        navigate(-1)\n    }\n\n    return (\n        <span onClick={goBack} className={cl.wrapper}>\n            <span className={cl.arrow_icon}>\n                &lt;-\n            </span>\n        </span>\n    )\n}\n\nexport default GoBack","// extracted by mini-css-extract-plugin\nexport default {\"main_wrapper\":\"MainLayout_main_wrapper__Y7jWB\",\"main_content_wrapper\":\"MainLayout_main_content_wrapper__LrLzF\"};","import React from 'react'\nimport cl from './MainLayout.module.scss';\n\n\nfunction MainLayout({ children }) {\n    return (\n\n        <div className={cl.main_wrapper}>\n            <div className={cl.main_content_wrapper}>\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default MainLayout","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useFetching","callback","useState","Loading","setLoading","error","setError","fetching","message","alert","useAlert","navigate","useNavigate","axios","basic_url","headers","getHeaders","then","res","success","catch","logoutAllOtherSessions","LoadingLogoutAllOtherSessions","Promise","resolve","reject","store","type","LOGOUT_SUCCESS","logoutAllSessions","LoadingLogoutAllSessions","data","DELETE_ACCOUNT","err","response","deleteAccount","MainLayout","className","Loader","cl","GoBack","onClick","children","asyncGeneratorStep","gen","_next","_throw","key","arg","info","value","done","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}