{"version":3,"file":"static/js/27.67821665.chunk.js","mappings":"6GACA,KAAgB,oBAAsB,uCAAuC,aAAe,gCAAgC,aAAe,gCAAgC,KAAO,wBAAwB,UAAY,6BAA6B,GAAK,sBAAsB,IAAM,uBAAuB,KAAO,wBAAwB,UAAY,6BAA6B,aAAe,gCAAgC,kBAAoB,qCAAqC,gBAAkB,mCAAmC,wBAA0B,2CAA2C,iBAAmB,oCAAoC,UAAY,+B,mECAxpB,G,OAAiC,oCAAjC,EAA6E,2B,UCoB7E,MAlBA,SAAoBA,GAEhB,IAAQC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAElB,OACI,gBAAKC,UAAWC,EAAhB,UACI,mCACID,UAAS,UAAKC,EAAL,WACTC,KAAK,SACLH,SAAUA,GACNF,GAJR,aAMKC,S,gGCdjB,GAAgB,mBAAqB,sCAAsC,YAAc,+BAA+B,MAAQ,yBAAyB,MAAQ,yBAAyB,aAAe,gCAAgC,YAAc,gC,wECsCvP,MAlCA,SAAmBD,GACyDA,EAAhEM,MAAR,IAAeC,EAAyDP,EAAzDO,KAAMC,EAAmDR,EAAnDQ,YAAaC,EAAsCT,EAAtCS,SAAUC,EAA4BV,EAA5BU,MAAOC,EAAqBX,EAArBW,QAAYC,GAA/D,OAAwEZ,EAAxE,GAEA,OACI,iBACIG,UAAS,UAAKC,EAAAA,mBAAL,uBADb,WAII,iBACID,UAAWC,EAAAA,YADf,WAGI,kBACIS,QAASN,EACTJ,UAAS,oBAAQC,EAAAA,MAAR,cAA4BM,GAAK,UAAON,EAAAA,aAAP,kBAF9C,SAIKI,KAEL,SAAC,MAAD,QACIL,UAAS,oBAAQC,EAAAA,MAAR,cAA4BK,EAAQ,UAAML,EAAAA,WAAN,eAAmCO,GAAO,UAAOP,EAAAA,QAAP,aACvFU,GAAG,QACHC,GAAIR,EACJA,KAAMA,GACFK,QAIZ,iBAAMT,UAAS,UAAKC,EAAAA,YAAL,gBAAf,UACI,SAAC,KAAD,CAAcG,KAAMA,W,wGC9BvBS,EAAc,SAACC,GACxB,OAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEMC,EAAQ,mCAAG,8GAETH,GAAW,GAFF,SAGHH,EAAQ,WAAR,KAHG,sDAKTK,EAAS,KAAEE,SALF,uBAOTJ,GAAW,GAPF,0EAAH,qDAWd,MAAO,CAACG,EAAUJ,EAASE,K,+PCiK/B,UA9JA,WAEE,IAAMI,GAAQC,EAAAA,EAAAA,MAENC,GAAMC,EAAAA,EAAAA,KAAND,EAEFE,GAAWC,EAAAA,EAAAA,MAQbC,EAAWJ,EAAE,yCAA0C,YAErDK,EAAmBC,EAAAA,KAAaC,MAAM,CAC1CC,MAAOF,EAAAA,KACJE,MAAMR,EAAE,oCAAqC,yBAC7CI,SAASA,GACZK,SAAUH,EAAAA,KACPF,SAASA,KAGd,GAA0Cb,EAAAA,EAAAA,UAAiB,IAA3D,eAAOmB,EAAP,KAAsBC,EAAtB,KAEA,GAAsCtB,EAAAA,EAAAA,GAAW,mCAAC,WAAOuB,GAAP,8EAC1CC,EAAOC,KAAKC,UAAUH,GADoB,SAG1CI,IAAAA,KAAA,UAAcC,EAAAA,GAAd,sBAA6CJ,EAAM,CACvDK,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAAAC,GACJtB,EAAMuB,QAAQD,EAAIE,KAAKzB,SAEvB,IAAI0B,SAAQ,SAAUC,EAASC,GAM7B,OALAC,EAAAA,EAAAA,SAAe,CACbhD,KAAMiD,EAAAA,GACNC,QAASR,EAAIE,OAGRE,EAAQ,MAGdL,MAAK,WACJjB,EAAS,WAGd2B,OAAM,SAAAC,GACLA,EAAIC,SACFpB,EAAiBmB,EAAIC,SAAST,KAAKzB,SACjCc,EAAiB,+BAErBe,EAAAA,EAAAA,SAAe,CACbhD,KAAMsD,EAAAA,GACNJ,QAAS,qBA/BiC,2CAAD,uDAAjD,eAAOK,EAAP,KAAkBC,EAAlB,KAwCA,OACE,gCACGA,IACC,gBAAK1D,UAAU,iBAAf,UACE,SAAC,IAAD,MAGHkC,IACC,gBAAKlC,UAAS,UAAKC,EAAAA,EAAAA,qBAAnB,UACE,iBAAMD,UAAS,UAAKC,EAAAA,EAAAA,aAAL,iBAAf,SACGiC,OAKP,gBAAKlC,UAAWC,EAAAA,EAAAA,aAAhB,UACE,SAAC,KAAD,CACE0D,cA3Ec,CACpB3B,MAAO,GACPC,SAAU,IA0EJJ,iBAAkBA,EAClB+B,SAvBR,SAAkBxB,GAChBqB,EAAUrB,IAmBN,SAKG,gBAAGyB,EAAH,EAAGA,OAAQrD,EAAX,EAAWA,QAAS4B,EAApB,EAAoBA,OAApB,OACC,UAAC,KAAD,CACEpC,UAAS,UAAKC,EAAAA,EAAAA,KAAL,SADX,WAGE,cAAGD,UAAS,UAAKC,EAAAA,EAAAA,UAAL,mBAAZ,SACGuB,EAAE,sCAAuC,YAG5C,SAAC,IAAD,CACEpB,KAAK,QACLC,YAAamB,EAAE,sCAAuC,SACtDtB,KAAK,QACL4D,WAAW,EACXvD,MAAO6B,EAAM,MACb5B,QAASA,EAAO,MAChBF,SAAUuD,EAAM,MAChBE,WAAW,WAGb,SAAC,IAAD,CACE3D,KAAK,WACLC,YAAamB,EAAE,yCAA0C,YACzDtB,KAAK,WACLK,MAAO6B,EAAM,SACb5B,QAASA,EAAO,SAChBF,SAAUuD,EAAM,YAGlB,SAAC,IAAD,CACE9D,SACE2D,MACEM,EAAAA,EAAAA,GAAQH,MAAYG,EAAAA,EAAAA,GAAQxD,IAEhCN,KAAK,SALP,SAOGsB,EAAE,wCAAyC,cAG9C,iBAAKxB,UAAWC,EAAAA,EAAAA,GAAhB,WACE,iBACED,UAAWC,EAAAA,EAAAA,IADb,SAGGuB,EAAE,oCAAqC,6BAE1C,mBACA,SAAC,KAAD,CACExB,UAAS,UAAKC,EAAAA,EAAAA,KAAL,8BACTgE,GAAG,kBAFL,SAIGzC,EAAE,yCAA0C,eAG/C,mBAEA,SAAC,KAAD,CAAMxB,UAAS,UAAKC,EAAAA,EAAAA,IAAL,QAAmBgE,GAAG,wBAArC,SACGzC,EAAE,oDAAqD,0C,qBClKnE,SAASwC,EAAQE,GACpB,OAAmC,IAA5BC,OAAOC,KAAKF,GAAKG,QAAgBH,EAAII,cAAgBH,O","sources":["webpack://alanominator/./src/pages/authPages/authPages.module.scss?c19d","webpack://alanominator/./src/components/UI/FormButton/FormButton.module.scss?0755","components/UI/FormButton/FormButton.jsx","webpack://alanominator/./src/components/UI/FormInput/FormInput.module.scss?3c58","components/UI/FormInput/FormInput.jsx","hooks/useFetching.ts","pages/authPages/LoginPage/LoginPage.tsx","pages/authPages/funcs.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"errorMessageWrapper\":\"authPages_errorMessageWrapper__1nb9r\",\"errorMessage\":\"authPages_errorMessage__cn6Eo\",\"form_wrapper\":\"authPages_form_wrapper__I9-Yl\",\"form\":\"authPages_form__mwH6E\",\"page_name\":\"authPages_page_name__-ata5\",\"lw\":\"authPages_lw__b9ZJ1\",\"ttl\":\"authPages_ttl__KbgBc\",\"link\":\"authPages_link__ll6x-\",\"help_link\":\"authPages_help_link__VMlan\",\"help_wrapper\":\"authPages_help_wrapper__4ETRw\",\"reCaptcha_wrapper\":\"authPages_reCaptcha_wrapper__bduQh\",\"captcha_loading\":\"authPages_captcha_loading__YQc+l\",\"captcha_loading_message\":\"authPages_captcha_loading_message__mjU5w\",\"cancelBtnWrapper\":\"authPages_cancelBtnWrapper__ey8-O\",\"cancelBtn\":\"authPages_cancelBtn__undoL\"};","// extracted by mini-css-extract-plugin\nexport default {\"button_wrapper\":\"FormButton_button_wrapper__K6Ek-\",\"button\":\"FormButton_button__saLZQ\"};","import React from 'react';\nimport cl from './FormButton.module.scss';\n\nfunction FormButton(props) {\n\n    const { children, disabled } = props\n\n    return (\n        <div className={cl.button_wrapper}>\n            <button\n                className={`${cl.button} button`}\n                type='submit'\n                disabled={disabled}\n                {...props}\n            >\n                {children}\n            </button>\n        </div>\n    )\n}\n\nexport default FormButton","// extracted by mini-css-extract-plugin\nexport default {\"input_main_wrapper\":\"FormInput_input_main_wrapper__ujvJw\",\"input_field\":\"FormInput_input_field__QYl9j\",\"label\":\"FormInput_label__04RR4\",\"input\":\"FormInput_input__uBaqY\",\"label_active\":\"FormInput_label_active__6tHVz\",\"red_message\":\"FormInput_red_message__1EyIk\"};","import React from 'react';\nimport { Field, ErrorMessage } from 'formik';\nimport cl from './FormInput.module.scss';\n\n\nfunction FormInput(props) {\n    const { label, name, placeholder, hasError, value, touched, ...rest } = props\n\n    return (\n        <div\n            className={`${cl.input_main_wrapper} input_main_wrapper`}\n        >\n\n            <div\n                className={cl.input_field}\n            >\n                <label\n                    htmlFor={name}\n                    className={`${`${cl.label} label`} ${value && `${cl.label_active} label_active`}`}\n                >\n                    {placeholder}\n                </label>\n                <Field\n                    className={`${`${cl.input} input`} ${hasError ? `${cl.has_errors} has_errors` : touched && `${cl.correct} correct`}`}\n                    as=\"input\"\n                    id={name}\n                    name={name}\n                    {...rest}\n                />\n            </div>\n\n            <span className={`${cl.red_message} red_message`}>\n                <ErrorMessage name={name} />\n            </span>\n\n        </div>\n    )\n}\n\nexport default FormInput;","import { useState } from \"react\";\n\nexport const useFetching = (callback: Function) => {\n    const [Loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args: any) => {\n        try {\n            setLoading(true)\n            await callback(...args)\n        } catch (e: any) { // TODO type error\n            setError(e.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return [fetching, Loading, error] as const\n}","import React, { useState } from 'react'\nimport * as Yup from 'yup';\nimport { Formik, Form } from 'formik'\nimport { useFetching } from '../../../hooks/useFetching';\nimport axios from 'axios';\nimport { basic_url } from '../../../API/APISettings';\nimport FormButton from '../../../components/UI/FormButton/FormButton';\nimport FormInput from '../../../components/UI/FormInput/FormInput';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { store } from '../../../reducers/index';\nimport { LOGIN_SUCCESS, LOGIN_FAIL } from '../../../reducers/auth';\nimport { isEmpty } from '../funcs';\nimport cl from '../authPages.module.scss';\nimport Loader from '../../../components/UI/Loader/Loader';\nimport { useTranslation } from 'react-i18next';\n\nimport { useAlert } from 'react-alert';\n\n\n\nfunction LoginPage() {\n\n  const alert = useAlert()\n\n  const { t } = useTranslation()\n\n  const navigate = useNavigate()\n\n  const initialValues = {\n    email: '',\n    password: ''\n  }\n\n\n  let required = t('main_content.pages.auth_pages.required', \"Required\")\n\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n      .email(t('main_content.pages.auth_pages.ief', \"Invalid email format\"))\n      .required(required),\n    password: Yup.string()\n      .required(required)\n  })\n\n  const [responseError, setResponseError] = useState<string>(\"\")\n\n  const [loginUser, LoadingLoginUser] = useFetching(async (values: object) => {\n    const body = JSON.stringify(values);\n\n    await axios.post(`${basic_url}/users/auth/login/`, body, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(res => {\n        alert.success(res.data.message)\n\n        new Promise(function (resolve, reject) {\n          store.dispatch({\n            type: LOGIN_SUCCESS,\n            payload: res.data,\n          })\n\n          return resolve(1)\n\n        })\n          .then(() => {\n            navigate(\"/\")\n          })\n      })\n      .catch(err => {\n        err.response ?\n          setResponseError(err.response.data.message)\n          : setResponseError('Smth went wrong. Try again.')\n\n        store.dispatch({\n          type: LOGIN_FAIL,\n          payload: \"Network error\"\n        });\n      });\n  })\n\n  function onSubmit(values) {\n    loginUser(values)\n  }\n\n  return (\n    <>\n      {LoadingLoginUser &&\n        <div className='loader_wrapper'>\n          <Loader />\n        </div>\n      }\n      {responseError &&\n        <div className={`${cl.errorMessageWrapper}`}>\n          <span className={`${cl.errorMessage} errorMessage`}>\n            {responseError}\n          </span>\n        </div>\n      }\n\n      <div className={cl.form_wrapper}>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {({ errors, touched, values }) => (\n            <Form\n              className={`${cl.form} form`}\n            >\n              <b className={`${cl.page_name} auth_page_name`}>\n                {t('main_content.pages.auth_pages.login', \"login\")}\n              </b>\n\n              <FormInput\n                name=\"email\"\n                placeholder={t('main_content.pages.auth_pages.email', \"email\")}\n                type=\"email\"\n                autoFocus={true}\n                value={values[\"email\"]}\n                touched={touched[\"email\"]}\n                hasError={errors[\"email\"]}\n                spellCheck=\"false\"\n              // inputmode=\"email\"\n              />\n              <FormInput\n                name=\"password\"\n                placeholder={t('main_content.pages.auth_pages.password', \"password\")}\n                type=\"password\"\n                value={values[\"password\"]}\n                touched={touched[\"password\"]}\n                hasError={errors[\"password\"]}\n              />\n\n              <FormButton\n                disabled={\n                  LoadingLoginUser ||\n                  !(isEmpty(errors) && !isEmpty(touched))\n                }\n                type=\"submit\"\n              >\n                {t('main_content.pages.auth_pages.sign_in', \"sign in\")}\n              </FormButton>\n\n              <div className={cl.lw}>\n                <span\n                  className={cl.ttl}\n                >\n                  {t('main_content.pages.auth_pages.dha', \"Don't have an account?\")}\n                </span>\n                <br />\n                <Link\n                  className={`${cl.link} link_to_another_auth_page`}\n                  to=\"/users/register\"\n                >\n                  {t('main_content.pages.auth_pages.register', \"register\")}\n                </Link>\n\n                <hr />\n\n                <Link className={`${cl.ftp} ftp`} to=\"/users/reset_password\">\n                  {t('main_content.pages.auth_pages.forgot_the_password', \"Forgot the password?\")}\n                </Link>\n\n\n              </div>\n\n\n\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </>\n  )\n}\n\nexport default LoginPage;","export function isEmpty(obj) {\n    return Object.keys(obj).length === 0 && obj.constructor === Object\n}"],"names":["props","children","disabled","className","cl","type","label","name","placeholder","hasError","value","touched","rest","htmlFor","as","id","useFetching","callback","useState","Loading","setLoading","error","setError","fetching","message","alert","useAlert","t","useTranslation","navigate","useNavigate","required","validationSchema","Yup","shape","email","password","responseError","setResponseError","values","body","JSON","stringify","axios","basic_url","headers","then","res","success","data","Promise","resolve","reject","store","LOGIN_SUCCESS","payload","catch","err","response","LOGIN_FAIL","loginUser","LoadingLoginUser","initialValues","onSubmit","errors","autoFocus","spellCheck","isEmpty","to","obj","Object","keys","length","constructor"],"sourceRoot":""}