{"version":3,"file":"static/js/250.acd845e1.chunk.js","mappings":"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","sources":["hooks/useFetching.ts","webpack://alanominator/./src/pages/settingsPages/components/KebabMenu/KebabMenu.module.scss?05f6","pages/settingsPages/components/KebabMenu/KebabMenu.jsx","webpack://alanominator/./src/pages/settingsPages/styles.module.scss?0b0d","webpack://alanominator/./src/pages/settingsPages/SettingsMainPage/SettingsMainPage.module.scss?d1c0","pages/settingsPages/SettingsMainPage/SettingsMainPage.jsx","webpack://alanominator/./src/pages/settingsPages/components/GoBack/GoBack.module.scss?3334","pages/settingsPages/components/GoBack/GoBack.jsx","webpack://alanominator/./src/pages/settingsPages/components/MainLayout/MainLayout.module.scss?5277","pages/settingsPages/components/MainLayout/MainLayout.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport const useFetching = (callback: Function) => {\n    const [Loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args: any) => {\n        try {\n            setLoading(true)\n            await callback(...args)\n        } catch (e: any) { // TODO type error\n            setError(e.message)\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    return [fetching, Loading, error] as const\n}","// extracted by mini-css-extract-plugin\nexport default {\"main_wrapper\":\"KebabMenu_main_wrapper__0b6Ch\",\"dots_wrapper\":\"KebabMenu_dots_wrapper__p-6y2\",\"dots\":\"KebabMenu_dots__sqvBZ\",\"dot\":\"KebabMenu_dot__AXMc9\",\"content_wrapper\":\"KebabMenu_content_wrapper__ob2+t\",\"content\":\"KebabMenu_content__chu8Z\",\"black_space\":\"KebabMenu_black_space__xSu+r\"};","import React, { useState } from 'react'\nimport cl from './KebabMenu.module.scss';\n\nfunction KebabMenu({ children }) {\n    const [opened, setOpened] = useState(false)\n\n    return (\n        <div className={cl.main_wrapper}>\n            <span onClick={() => setOpened(!opened)} className={cl.dots_wrapper}>\n                <span className={cl.dots}>\n                    <span className={cl.dot} />\n                    <span className={cl.dot} />\n                    <span className={cl.dot} />\n                </span>\n            </span>\n\n            {opened &&\n                <>\n                    <div className={cl.content_wrapper}>\n                        <div className={cl.content}>\n                            {children}\n                        </div>\n                    </div>\n                    <div onClick={() => setOpened(!opened)} className={cl.black_space} />\n                </>\n            }\n\n        </div>\n    )\n}\n\nexport default KebabMenu;","// extracted by mini-css-extract-plugin\nexport default {\"item_wrapper\":\"styles_item_wrapper__Bht2j\"};","// extracted by mini-css-extract-plugin\nexport default {\"top_wrapper\":\"SettingsMainPage_top_wrapper__B++mu\",\"top_content\":\"SettingsMainPage_top_content__fqIaE\",\"main\":\"SettingsMainPage_main__8Ft2u\",\"content\":\"SettingsMainPage_content__LwIZ9\",\"title\":\"SettingsMainPage_title__LKxVK\",\"username\":\"SettingsMainPage_username__5vdgb\",\"bio\":\"SettingsMainPage_bio__Matx7\",\"dlpfpfwk\":\"SettingsMainPage_dlpfpfwk__skPhr\",\"bio_text\":\"SettingsMainPage_bio_text__keyih\",\"item\":\"SettingsMainPage_item__LTj+v\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport GoBack from '../components/GoBack/GoBack';\nimport KebabMenu from '../components/KebabMenu/KebabMenu';\nimport m from '../styles.module.scss';\nimport cl from './SettingsMainPage.module.scss';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport { useFetching } from '../../../hooks/useFetching';\n\nimport { basic_url, getHeaders } from '../../../API/APISettings';\n\nimport { store } from '../../../reducers/index';\nimport { LOGOUT_SUCCESS } from '../../../reducers/auth';\nimport Loader from '../../../components/UI/Loader/Loader';\nimport MainLayout from '../components/MainLayout/MainLayout';\nimport { useSelector } from 'react-redux';\n\nfunction SettingsMainPage() {\n    const navigate = useNavigate()\n\n    const username = useSelector(state => state.auth.user.username)\n    const bio = useSelector(state => state.auth.user.about)\n\n    const [logoutCurrent, LoadingLogoutCurrent] = useFetching(async () => {\n\n        await axios.post(`${basic_url}/users/logout_current/`, {}, {\n            headers: getHeaders(),\n        })\n            .then(() => {\n\n                new Promise(function (resolve, reject) {\n                    store.dispatch({\n                        type: LOGOUT_SUCCESS\n                    })\n\n                    return resolve()\n\n                }).then(() => {\n                    // alert(\"Success\")\n                    navigate(\"/\")\n                })\n\n            })\n            .catch(() => {\n                alert(\"Error\")\n            });\n    })\n\n\n    return (\n        <MainLayout>\n            {LoadingLogoutCurrent &&\n                <div className='loader_wrapper'>\n                    <Loader />\n                </div>\n            }\n\n            <div className={cl.top_wrapper}>\n                <div className={cl.top_content}>\n                    <GoBack />\n\n                    <KebabMenu>\n                        <span className={m.item_wrapper}>\n                            <Link to=\"/settings/edit_name\">\n                                Edit name\n                            </Link>\n                        </span>\n                        <span className={m.item_wrapper}>\n                            Set photo\n                        </span>\n                        <span onClick={logoutCurrent} className={m.item_wrapper}>\n                            Log out\n                        </span>\n                    </KebabMenu>\n                </div>\n            </div>\n\n            <div className={cl.main}>\n                <div className={cl.content}>\n                    <span className={cl.title}>\n                        account\n                    </span>\n\n                    <Link to=\"/settings/edit_username\" className={cl.username}>\n                        @{username}\n                        <span className={cl.dlpfpfwk}>\n                            username\n                        </span>\n                    </Link>\n\n                    <Link to=\"/settings/edit_bio\" className={cl.bio}>\n                        <span className={cl.bio_text}>\n                            {bio ? bio : \"Empty\"}\n                        </span>\n                        <span className={cl.dlpfpfwk}>\n                            bio\n                        </span>\n                    </Link>\n\n                </div>\n\n                <div className={cl.content}>\n                    <span className={cl.title}>\n                        settings\n                    </span>\n\n                    <Link className={cl.item} to=\"/settings/sessions\">\n                        sessions\n                    </Link>\n                    <Link className={cl.item} to=\"/settings/change_password\">\n                        change password\n                    </Link>\n\n                </div>\n\n\n                <div className={cl.content}>\n                    <span className={cl.title}>\n                        help\n                    </span>\n\n                    <span>\n\n                    </span>\n\n                </div>\n\n            </div>\n\n        </MainLayout>\n    )\n}\n\nexport default SettingsMainPage","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"GoBack_wrapper__hQ1MT\",\"arrow_icon\":\"GoBack_arrow_icon__n2l5R\"};","import React from 'react'\nimport cl from './GoBack.module.scss';\nimport { useNavigate } from 'react-router-dom';\n\nfunction GoBack() {\n\n    const navigate = useNavigate();\n\n    function goBack() {\n        navigate(-1)\n    }\n\n    return (\n        <span onClick={goBack} className={cl.wrapper}>\n            <span className={cl.arrow_icon}>\n                &lt;-\n            </span>\n        </span>\n    )\n}\n\nexport default GoBack","// extracted by mini-css-extract-plugin\nexport default {\"main_wrapper\":\"MainLayout_main_wrapper__Y7jWB\",\"main_content_wrapper\":\"MainLayout_main_content_wrapper__LrLzF\"};","import React from 'react'\nimport cl from './MainLayout.module.scss';\n\n\nfunction MainLayout({ children }) {\n    return (\n\n        <div className={cl.main_wrapper}>\n            <div className={cl.main_content_wrapper}>\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default MainLayout","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useFetching","callback","useState","Loading","setLoading","error","setError","fetching","message","children","opened","setOpened","className","cl","onClick","navigate","useNavigate","username","useSelector","state","auth","user","bio","about","axios","basic_url","headers","getHeaders","then","Promise","resolve","reject","store","type","LOGOUT_SUCCESS","catch","alert","logoutCurrent","LoadingLogoutCurrent","MainLayout","Loader","GoBack","m","to","asyncGeneratorStep","gen","_next","_throw","key","arg","info","value","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}